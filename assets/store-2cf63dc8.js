import{q as o,s as n}from"./index-b5198652.js";const p={cars:[],races:[],raceCurrentIndex:0,raceNextIndex:1},r=localStorage.derbyAppState?JSON.parse(localStorage.derbyAppState):p,i=o({appState:r,deepMerge(t,e){return void Object.keys(e).forEach(a=>{t[a]instanceof Object&&e[a]instanceof Object?t[a]instanceof Array&&e[a]instanceof Array?t[a]=Array.from(new Set(t[a].concat(e[a]))):!(t[a]instanceof Array)&&!(e[a]instanceof Array)?this.deepMerge(t[a],e[a]):t[a]=e[a]:t[a]=e[a]})||t},resetAppState(){this.appState=p,localStorage.derbyAppState=JSON.stringify({...p})}});n(i.appState,(t,e)=>{console.log("updating"),localStorage.derbyAppState=JSON.stringify({...t})},{deep:!0});export{i as s};
